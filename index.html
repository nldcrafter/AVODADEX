<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AVODA | Premier Web3 Infrastructure</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/ethers.umd.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg: #020409; --sidebar: #0a0c12; --card: rgba(255,255,255,0.04); --border: rgba(255,255,255,0.1);
            --accent: #00f2ff; --grad: linear-gradient(135deg, #00f2ff 0%, #7000ff 100%);
            --text: #ffffff; --text-dim: #94a3b8; --success: #00ff88; --danger: #ff4d4d;
        }

        * { margin:0; padding:0; box-sizing:border-box; font-family:'Plus Jakarta Sans', sans-serif; }
        body { background:var(--bg); color:var(--text); height:100vh; overflow:hidden; }

        /* --- Master Layout --- */
        .app-shell { display: flex; height: 100vh; }
        
        aside { 
            width: 280px; background:var(--sidebar); border-right:1px solid var(--border); 
            display:flex; flex-direction:column; padding:2rem 1.5rem; z-index: 100;
        }

        main { flex:1; overflow-y:auto; padding:2rem 4rem; position: relative; }

        /* --- UI Elements --- */
        .logo { font-size:2.2rem; font-weight:800; background:var(--grad); -webkit-background-clip:text; -webkit-text-fill-color:transparent; margin-bottom:3rem; letter-spacing:-1px; }
        
        .nav-link { 
            display:flex; align-items:center; gap:16px; padding:16px; border-radius:20px; 
            color:var(--text-dim); text-decoration:none; margin-bottom:10px; cursor:pointer; transition:0.3s;
        }
        .nav-link.active, .nav-link:hover { background:var(--card); color:var(--text); border:1px solid var(--border); box-shadow: 0 4px 20px rgba(0,0,0,0.3); }

        .glass-card { 
            background:var(--card); border:1px solid var(--border); border-radius:32px; 
            padding:2rem; backdrop-filter:blur(30px); margin-bottom:2rem;
        }

        /* --- Wallet UI --- */
        .balance-hero { font-size:4.5rem; font-weight:800; letter-spacing:-3px; margin:10px 0; }
        .tag { background:var(--card); padding:6px 14px; border-radius:100px; font-size:0.8rem; border:1px solid var(--border); font-weight:600; }

        /* Asset Rows */
        .asset-item { 
            display:flex; justify-content:space-between; align-items:center; 
            padding:1.5rem; border-radius:24px; background:rgba(255,255,255,0.02); 
            margin-bottom:12px; border:1px solid transparent; transition:0.3s; cursor:pointer;
        }
        .asset-item:hover { border-color:var(--accent); background:var(--card); transform:scale(1.01); }

        /* --- Views --- */
        .view { display:none; animation:fadeIn 0.5s ease forwards; }
        .view.active { display:block; }
        @keyframes fadeIn { from { opacity:0; transform:translateY(15px); } to { opacity:1; transform:translateY(0); } }

        /* --- Swap UI --- */
        .swap-container { max-width:480px; margin:0 auto; }
        .swap-input-box { background:rgba(0,0,0,0.4); border:1px solid var(--border); border-radius:24px; padding:1.5rem; }
        .swap-input-box input { background:transparent; border:none; color:white; font-size:2rem; font-weight:800; width:100%; outline:none; }
        .btn-action { background:var(--grad); color:white; border:none; padding:1.2rem; border-radius:22px; width:100%; font-weight:800; cursor:pointer; font-size:1.1rem; margin-top:1.5rem; transition:0.3s; }
        .btn-action:hover { transform:translateY(-2px); box-shadow: 0 10px 30px rgba(0,242,255,0.4); }

        /* --- Mnemonic Overlay --- */
        .modal-overlay { position:fixed; inset:0; background:rgba(0,0,0,0.95); z-index:999; display:none; align-items:center; justify-content:center; backdrop-filter:blur(15px); }
        .mnemonic-modal { background:var(--sidebar); padding:3.5rem; border-radius:45px; width:90%; max-width:600px; text-align:center; border:1px solid var(--border); }
        .mnemonic-grid { display:grid; grid-template-columns:repeat(3, 1fr); gap:12px; margin:2.5rem 0; }
        .word-chip { background:var(--card); padding:14px; border-radius:14px; border:1px solid var(--border); font-size:0.9rem; font-weight:700; color:var(--accent); }

        /* Responsive */
        @media (max-width: 1000px) {
            .app-shell { flex-direction: column-reverse; }
            aside { width:100%; height:85px; flex-direction:row; padding:0 1rem; position:fixed; bottom:0; border-right:none; border-top:1px solid var(--border); }
            .logo, .nav-link span { display:none; }
            .nav-link { margin:0; }
            main { padding:1.5rem; padding-bottom:120px; }
            .balance-hero { font-size:3rem; }
        }
    </style>
</head>
<body>

<div class="app-shell">
    <aside>
        <div class="logo">AVODA</div>
        <nav style="flex:1;">
            <div class="nav-link active" onclick="showView('wallet', this)"><i data-lucide="wallet"></i> <span>Wallet</span></div>
            <div class="nav-link" onclick="showView('swap', this)"><i data-lucide="arrow-left-right"></i> <span>Swap</span></div>
            <div class="nav-link" onclick="showView('discover', this)"><i data-lucide="compass"></i> <span>DApps</span></div>
            <div class="nav-link" onclick="showView('security', this)"><i data-lucide="shield-check"></i> <span>Security</span></div>
        </nav>
        <div class="tag" style="text-align:center; background:rgba(0,242,255,0.1); border-color:var(--accent);">AVODA MAINNET</div>
    </aside>

    <main>
        <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:3rem;">
            <div>
                <h4 style="color:var(--text-dim); text-transform:uppercase; letter-spacing:1px; font-size:0.7rem;">Primary Portfolio</h4>
                <div class="balance-hero">$<span id="display-bal">24,105.42</span></div>
            </div>
            <button onclick="connectWallet()" id="walletBtn" class="btn-action" style="width:auto; margin:0; padding:10px 25px; border-radius:100px; font-size:0.9rem;">Connect Web3</button>
        </div>

        <section id="view-wallet" class="view active">
            <div style="display:grid; grid-template-columns: 2fr 1fr; gap:2rem;">
                <div>
                    <h3 style="margin-bottom:1.5rem;">Your Assets</h3>
                    <div id="asset-container">
                        </div>
                </div>
                <div>
                    <div class="glass-card" style="padding:1.5rem;">
                        <h4>Analytics</h4>
                        <canvas id="balanceChart" style="margin-top:20px;"></canvas>
                    </div>
                    <div class="glass-card" style="border-color:var(--success); background:rgba(0,255,136,0.05);">
                        <p style="font-size:0.8rem; color:var(--success);"><strong>AI Optimized:</strong> Your AVODA tokens are eligible for 12% APY staking.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="view-swap" class="view">
            <div class="swap-container">
                <div class="glass-card">
                    <h3 style="margin-bottom:1.5rem;">Exchange Tokens</h3>
                    <div class="swap-input-box">
                        <small style="color:var(--text-dim)">From</small>
                        <div style="display:flex; align-items:center;">
                            <input type="number" id="swapFrom" value="1.0" oninput="runMath()">
                            <span class="tag">ETH</span>
                        </div>
                    </div>
                    <div style="text-align:center; margin:-20px 0; z-index:2; position:relative;">
                        <div style="background:var(--bg); border:1px solid var(--border); display:inline-block; padding:10px; border-radius:15px;"><i data-lucide="arrow-down"></i></div>
                    </div>
                    <div class="swap-input-box">
                        <small style="color:var(--text-dim)">To (Estimated)</small>
                        <div style="display:flex; align-items:center;">
                            <input type="number" id="swapTo" readonly>
                            <span class="tag" style="color:var(--accent)">AVODA</span>
                        </div>
                    </div>
                    <button class="btn-action" onclick="executeSwap()">Confirm Swap</button>
                </div>
            </div>
        </section>

        <section id="view-bridge" class="view">
    <div class="swap-container">
        <div class="glass-card" style="border-color: var(--accent);">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem;">
                <h3>AVODA Quantum Bridge</h3>
                <div class="tag" style="color:var(--success)">Relayer: Online</div>
            </div>

            <div class="swap-input-box">
                <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                    <small style="color:var(--text-dim)">From Network</small>
                    <small class="tag" style="cursor:pointer" onclick="switchChain('ETH')">Ethereum</small>
                </div>
                <input type="number" id="bridgeInput" placeholder="0.0" oninput="calculateBridgeFee()">
            </div>

            <div style="text-align:center; padding:1.5rem 0;">
                <div style="display:flex; align-items:center; justify-content:center; gap:20px;">
                    <div style="width:10px; height:10px; border-radius:50%; background:var(--accent); box-shadow:0 0 10px var(--accent);"></div>
                    <div style="width:100px; height:2px; background:linear-gradient(90deg, var(--accent), transparent);"></div>
                    <i data-lucide="zap" style="color:var(--accent)"></i>
                    <div style="width:100px; height:2px; background:linear-gradient(270deg, var(--accent), transparent);"></div>
                    <div style="width:10px; height:10px; border-radius:50%; background:var(--accent);"></div>
                </div>
            </div>

            <div class="swap-input-box">
                <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                    <small style="color:var(--text-dim)">To Network</small>
                    <small class="tag" style="color:var(--accent)">AVODA Mainnet</small>
                </div>
                <input type="number" id="bridgeOutput" readonly placeholder="Auto-calculated">
            </div>

            <div style="margin-top:1.5rem; padding:1.2rem; background:rgba(255,255,255,0.02); border-radius:20px; font-size:0.85rem;">
                <div style="display:flex; justify-content:space-between; margin-bottom:8px;">
                    <span style="color:var(--text-dim)">Bridge Fee (Gas + Relayer)</span>
                    <span id="bridge-fee">$0.00</span>
                </div>
                <div style="display:flex; justify-content:space-between;">
                    <span style="color:var(--text-dim)">Est. Time</span>
                    <span>~ 2.5 Minutes</span>
                </div>
            </div>

            <button class="btn-action" onclick="initiateBridge()">Transfer Assets</button>
        </div>

        <div id="bridge-progress" class="glass-card" style="display:none; margin-top:1.5rem; border-color:var(--accent);">
            <h4 id="progress-status">Initiating...</h4>
            <div style="width:100%; height:6px; background:var(--border); border-radius:10px; margin:15px 0; overflow:hidden;">
                <div id="progress-bar" style="width:0%; height:100%; background:var(--grad); transition:0.5s;"></div>
            </div>
            <p id="progress-step" style="font-size:0.75rem; color:var(--text-dim);">Awaiting signature...</p>
        </div>
    </div>
</section>

    </main>
</div>

<div class="modal-overlay" id="secOverlay">
    <div class="mnemonic-modal">
        <i data-lucide="shield" size="50" style="color:var(--accent); margin-bottom:1.5rem;"></i>
        <h2>Backup Your Wallet</h2>
        <p style="color:var(--text-dim); margin-top:10px;">If you lose this phrase, AVODA cannot recover your funds.</p>
        <div class="mnemonic-grid" id="m-grid"></div>
        <button class="btn-action" onclick="document.getElementById('secOverlay').style.display='none'">I Have Saved It Safely</button>
    </div>
</div>

<script>
    lucide.createIcons();

    const tokenData = [
        { name: 'Ethereum', symbol: 'ETH', price: 2480.12, balance: 4.25, color: '#627eea' },
        { name: 'AVODA Token', symbol: 'AVO', price: 0.52, balance: 25000, color: '#00f2ff' },
        { name: 'Binance Coin', symbol: 'BNB', price: 312.40, balance: 10.5, color: '#f3ba2f' }
    ];

    function renderAssets() {
        const container = document.getElementById('asset-container');
        container.innerHTML = tokenData.map(t => `
            <div class="asset-item">
                <div style="display:flex; gap:15px; align-items:center;">
                    <div style="width:48px; height:48px; border-radius:16px; background:${t.color}; display:flex; align-items:center; justify-content:center; font-weight:900; color:black;">${t.symbol[0]}</div>
                    <div>
                        <strong>${t.name}</strong>
                        <p style="font-size:0.75rem; color:var(--text-dim)">$${t.price.toLocaleString()}</p>
                    </div>
                </div>
                <div style="text-align:right;">
                    <strong>${t.balance.toLocaleString()} ${t.symbol}</strong>
                    <p style="font-size:0.75rem; color:var(--success)">$${(t.balance * t.price).toLocaleString()}</p>
                </div>
            </div>
        `).join('');
    }

    function showView(viewId, el) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        document.getElementById(`view-${viewId}`).classList.add('active');
        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        el.classList.add('active');

        if(viewId === 'security') {
            document.getElementById('secOverlay').style.display = 'flex';
            const words = ["alpha", "bravo", "cyber", "delta", "echo", "fluid", "galaxy", "harvest", "index", "jungle", "kilo", "liquid"];
            document.getElementById('m-grid').innerHTML = words.map(w => `<div class="word-chip">${w}</div>`).join('');
        }
    }

    async function connectWallet() {
        if(window.ethereum) {
            const p = new ethers.BrowserProvider(window.ethereum);
            const accounts = await p.send("eth_requestAccounts", []);
            document.getElementById('walletBtn').innerText = accounts[0].slice(0,6)+'...'+accounts[0].slice(-4);
        }
    }

    function runMath() {
        const amt = document.getElementById('swapFrom').value;
        document.getElementById('swapTo').value = (amt * (2480 / 0.52)).toFixed(2);
    }

    function executeSwap() {
        const b = document.querySelector('#view-swap .btn-action');
        b.innerText = "Processing on Chain...";
        setTimeout(() => { alert("Swap Complete! View on AVODA Explorer."); b.innerText = "Confirm Swap"; }, 2500);
    }

    // Charting
    const ctx = document.getElementById('balanceChart').getContext('2d');
    new Chart(ctx, {
        type: 'line',
        data: { labels: ['M', 'T', 'W', 'T', 'F', 'S', 'S'], datasets: [{ data: [21, 23, 22, 25, 24, 26, 24], borderColor: '#00f2ff', tension: 0.4, fill: false }] },
        options: { plugins: { legend: { display: false } }, scales: { x: { display: false }, y: { display: false } } }
    });

    renderAssets();
    runMath();
</script>
</body>
</html>
